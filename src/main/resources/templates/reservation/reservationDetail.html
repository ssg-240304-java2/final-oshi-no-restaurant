<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>식당 상세 페이지</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/fragment/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/fragment/footer.css}">
    <link rel="stylesheet" th:href="@{/css/reservation/reservationDetail.css}">
</head>
<body>

<div th:replace="~{fragment/navbar.html :: navbar}" class="navbar"></div>

<div class="container">
    <div class="section-content text-center">
        <div id="main-img" class="img-placeholder" style="background-color: #ddd; width: 100%; max-width: 500px; height: 500px; margin: auto;">
            <img th:src="@{${restaurant.imgUrl}}" alt="Restaurant Image" style="width: 100%; height: 100%; object-fit: cover; max-width: 500px; max-height: 500px;">
        </div>

        <h2 th:text="${restaurant.restaurantName}">이름</h2>
        <div class="circle-buttons">
            <button class="btn btn-outline-custom">쩝쩝채팅</button>
            <button class="btn btn-outline-custom">쩝쩝웨이팅</button>
            <button class="btn btn-outline-custom">쩝쩝예약</button>
        </div>
    </div>

    <div class="info-section text-center">
        <div>
            <img th:src="@{/images/reservation/Map pin.png}"/>
            <span th:text="${restaurant.restaurantAddress}"></span>
        </div>
    </div>

    <div class="map-container" id="map-container">
        <div id="map" style="width:100%;height:400px;">
            <div class="img-placeholder" style="background-color: #ddd; width: 100%; height: 400px; margin: auto;"></div>
        </div>
    </div>
</div>


<div class="rating-section">
    <h2>이용내역 ★</h2>
    <div class="rating-details">
        <div th:each="entry : ${tagCountMap}" class="detail">
            <p th:text="${entry.key}"></p>
            <div class="line" th:style="'width:' + (${entry.value} * 2) + 'px'"></div>
            <span class="count" th:text="${entry.value}"></span>
        </div>
    </div>
</div>

    <div class="review-section">
        <!-- 리뷰 리스트를 반복문을 통해 출력 -->
        <div th:each="review : ${ReviewDetails}" class="review">

            <!-- 이미지 부분은 placeholder로 설정 -->
            <img th:src="@{${review.imgURL}}" alt="Reviewer Image" style="width: 100%; height: 100%; object-fit: cover; max-width: 50px; max-height: 50px;">

            <!-- 리뷰어 이름 -->
            <p>
                <strong th:text="${review.name}">Reviewer Name</strong>
                <!-- 날짜는 기본값이나 임시값으로 설정 (예: '2024.07.31') -->
                <span>2024.07.31</span>
            </p>

            <!-- 별점  -->
            <p class="star-rating">
                <span class="text-warning" th:text="${review.scope.getStars()}"></span>
            </p>





            <!-- 리뷰 내용 -->
            <p th:text="${review.reviewContent}">Review content goes here</p>
        </div>
    </div>

    <div th:replace="~{fragment/footer.html :: footer}" class="footer"></div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script  th:src="@{/js/fragment/navbar.js}"></script>
    <script  th:src="@{/js/reservation/reservationDetail.js}"></script>
</body>
</html>
